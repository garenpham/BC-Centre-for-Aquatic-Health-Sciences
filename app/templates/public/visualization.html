{% extends "public/templates/public_template.html" %}
<style>
    form {
        display: table;
    }

    div {
        display: table-row;
    }

    label {
        display: table-cell;
    }

    input {
        display: table-cell;
    }
</style>
{% block title %}Home{% endblock %}

{% block main %}
<script src="http://code.jquery.com/jquery-1.11.2.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
<div class="container ">
    <div class="row">
        <div class="col">
            <h1>Visualization</h1>
            <hr>
            {% with messages = get_flashed_messages(with_categories=true) %}
                <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }} alert-dismissible" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span></button>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            {% if data == "Bad-date" %}
                <p>Please enter a valid date range</p>
            {% endif %}
            {% if data == "Good-date" %}
            <div class="row">
                <div class="column">
                    <img id="viz1" src="../static/img/{{viz1}}" height="333" width="500">
                </div>
                <div class="column">
                    <img id="viz2" src="../static/img/{{viz2}}" height="333" width="500">
                </div>
            </div> 
            {% endif %}

            <form action="/visualization" method="post">
                <div>
                    <p>
                        <label for="start">Start Date</label>
                        <input type="date" id="start" name="start-date">

                        <label for="end">End Date</label>
                        <input type="date" id="end" name="end-date">

                        <label for="sample-type">Select sample type</label>
                        <select name="sample-type" id="sample-type">
                            <option value="All">All</option>
                            <option value="Biofilm">Biofilm</option>
                            <option value="Fish">Fish</option>
                            <option value="Water">Water</option>
                        </select>
                    </p>
                </div>
                <button type="submit" class="btn btn-primary" name="submit_button" value="submit">Submit</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}