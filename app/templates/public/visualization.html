
{% extends "public/templates/public_template.html" %}
<style>
form  { display: table;      }
div   { display: table-row;  }
label { display: table-cell; }
input { display: table-cell; }
</style>
{% block title %}Home{% endblock %}

{% block main %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
<script src="http://code.jquery.com/jquery-1.11.2.min.js" type="text/javascript"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
<div class="container ">
  <div class="row">
    <div class="col">
    <h1>Visualization</h1>
    <hr>
        {% with messages = get_flashed_messages(with_categories=true) %}
            <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
            {% if data == "Bad-date" %}
                <td>Please enter a valid date range</td>
            {% endif %}
            {% if data == "Good-date" %}
                <img id="placeholder" src="../../static/img/biofilm_abund_graph.png" height="500" width="700">
            {% endif %}

            <form action="/visualization" method="post">
                <div>
                <p>
                    <label for="start">Start Date</label>
                    <input type="date" id="start" name="start-date">
                    <label for="end">End Date</label>
                    <input type="date" id="end" name="end-date">

                    <label for="sample-type">Select sample type</label>
                    <select name="sample-type" id="sample-type">
                        <option value="none">None</option>
                        <option value="biofilm">Biofilm</option>
                        <option value="fish">Fish</option>
                        <option value="water">Water</option>
                    </select>
                </p>
                </div>
                <div>

                </div>

              <button type="submit" class="btn btn-primary" name="submit_button" value="submit">Submit</button>
            </form>
    </div>
  </div>
</div>


<script>
    let table = new DataTable('#show_data_table', {
        // options
        buttons: [
        'copy', 'excel', 'pdf'
    ]
    });
 
</script>
{% endblock %}
